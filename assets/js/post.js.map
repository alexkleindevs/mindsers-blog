{"version":3,"file":"post.js","sources":["post.js"],"sourcesContent":["import { ready } from './ready.js'\n\nconst isDark =\n  window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches\nconst highlighter = shiki.getHighlighter({\n  theme: isDark ? 'github-light' : 'github-dark',\n})\n\nready(async () => {\n  const images = document.querySelectorAll('.kg-gallery-image img')\n  images.forEach(function (image) {\n    const container = image.closest('.kg-gallery-image')\n    const width = image.attributes.width.value\n    const height = image.attributes.height.value\n    const ratio = width / height\n\n    container.style.flex = ratio + ' 1 0%'\n  })\n\n  const videos = document.querySelectorAll('iframe[src*=youtube]')\n  for (const video of videos) {\n    video.parentNode.classList.add('kg-embed-video')\n  }\n})\n\nready(async () => {\n  const codeblocks = document.querySelectorAll('pre > code[class^=\"language-\"]')\n  for (const block of codeblocks) {\n    const [, language] = Array.from(block.classList)[0].split('-')\n\n    const code = (await highlighter).codeToHtml(block.innerText, language)\n\n    block.parentNode.outerHTML = code\n  }\n})\n"],"names":["ready","isDark","window","matchMedia","matches","highlighter","shiki","getHighlighter","theme","async","images","document","querySelectorAll","forEach","image","container","closest","width","attributes","value","height","style","flex","video","parentNode","classList","add","block","language","Array","from","split","code","codeToHtml","innerText","outerHTML"],"mappings":"OAASA,uBAET,MAAMC,OACJC,OAAOC,YAAcD,OAAOC,WAAW,gCAAgCC,QACnEC,YAAcC,MAAMC,eAAe,CACvCC,MAAOP,OAAS,eAAiB,gBAGnCD,MAAMS,UACJ,MAAMC,EAASC,SAASC,iBAAiB,yBACzCF,EAAOG,QAAQ,SAAUC,GACvB,MAAMC,EAAYD,EAAME,QAAQ,qBAChC,IAAMC,EAAQH,EAAMI,WAAWD,MAAME,MAC/BC,EAASN,EAAMI,WAAWE,OAAOD,MAGvCJ,EAAUM,MAAMC,KAFFL,EAAQG,EAES,UAIjC,IAAK,MAAMG,KADIZ,SAASC,iBAAiB,wBAEvCW,EAAMC,WAAWC,UAAUC,IAAI,oBAInC1B,MAAMS,UAEJ,IAAK,MAAMkB,KADQhB,SAASC,iBAAiB,kCACb,CAC9B,GAAM,CAAA,CAAGgB,GAAYC,MAAMC,KAAKH,EAAMF,WAAW,GAAGM,MAAM,KAEpDC,SAAc3B,aAAa4B,WAAWN,EAAMO,UAAWN,GAE7DD,EAAMH,WAAWW,UAAYH"}